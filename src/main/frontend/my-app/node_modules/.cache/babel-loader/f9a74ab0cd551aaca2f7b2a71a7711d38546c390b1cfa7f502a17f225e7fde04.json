{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api\";\nconst getAuthToken = () => {\n  return localStorage.getItem(\"token\");\n};\nconst apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napiClient.interceptors.request.use(config => {\n  const token = getAuthToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  console.log(config);\n  return config;\n});\nexport const getTheme = async () => {\n  try {\n    const response = await apiClient.get(\"/theme\");\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response;\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || \"Error fetching theme\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};\nexport const saveTheme = async theme => {\n  try {\n    const response = await apiClient.post(\"/theme\", theme);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response2;\n      throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || \"Error saving theme\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};\nexport const uploadLogo = async file => {\n  try {\n    const formData = new FormData();\n    formData.append(\"logo\", file);\n    const response = await apiClient.post(\"/theme/logo\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      var _error$response3;\n      throw new Error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || \"Error uploading logo\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","getAuthToken","localStorage","getItem","apiClient","create","baseURL","headers","interceptors","request","use","config","token","Authorization","console","log","getTheme","response","get","data","error","isAxiosError","_error$response","Error","saveTheme","theme","post","_error$response2","uploadLogo","file","formData","FormData","append","_error$response3"],"sources":["/Users/ajor/Desktop/pcr/src/main/frontend/my-app/src/api/theme.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:8080/api\";\n\nconst getAuthToken = () => {\n  return localStorage.getItem(\"token\");\n};\n\nconst apiClient = axios.create({\n  baseURL: API_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\napiClient.interceptors.request.use((config) => {\n  const token = getAuthToken();\n\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  console.log(config);\n  return config;\n});\n\nexport const getTheme = async () => {\n  try {\n    const response = await apiClient.get(\"/theme\");\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      throw new Error(error.response?.data || \"Error fetching theme\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};\n\nexport const saveTheme = async (theme: {\n  primaryColor: string;\n  logoUrl: string | null;\n}) => {\n  try {\n    const response = await apiClient.post(\"/theme\", theme);\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      throw new Error(error.response?.data || \"Error saving theme\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};\n\nexport const uploadLogo = async (file: File) => {\n  try {\n    const formData = new FormData();\n    formData.append(\"logo\", file);\n\n    const response = await apiClient.post(\"/theme/logo\", formData, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    });\n    return response.data;\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      throw new Error(error.response?.data || \"Error uploading logo\");\n    } else {\n      throw new Error(\"An unexpected error occurred\");\n    }\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,2BAA2B;AAE3C,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACzB,OAAOC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AACtC,CAAC;AAED,MAAMC,SAAS,GAAGL,KAAK,CAACM,MAAM,CAAC;EAC7BC,OAAO,EAAEN,OAAO;EAChBO,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEFH,SAAS,CAACI,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAC7C,MAAMC,KAAK,GAAGX,YAAY,CAAC,CAAC;EAE5B,IAAIW,KAAK,EAAE;IACTD,MAAM,CAACJ,OAAO,CAACM,aAAa,GAAG,UAAUD,KAAK,EAAE;EAClD;EACAE,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;EACnB,OAAOA,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAMK,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMb,SAAS,CAACc,GAAG,CAAC,QAAQ,CAAC;IAC9CJ,OAAO,CAACC,GAAG,CAACE,QAAQ,CAACE,IAAI,CAAC;IAC1B,OAAOF,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIrB,KAAK,CAACsB,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAE,eAAA;MAC7B,MAAM,IAAIC,KAAK,CAAC,EAAAD,eAAA,GAAAF,KAAK,CAACH,QAAQ,cAAAK,eAAA,uBAAdA,eAAA,CAAgBH,IAAI,KAAI,sBAAsB,CAAC;IACjE,CAAC,MAAM;MACL,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;IACjD;EACF;AACF,CAAC;AAED,OAAO,MAAMC,SAAS,GAAG,MAAOC,KAG/B,IAAK;EACJ,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAMb,SAAS,CAACsB,IAAI,CAAC,QAAQ,EAAED,KAAK,CAAC;IACtD,OAAOR,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIrB,KAAK,CAACsB,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAO,gBAAA;MAC7B,MAAM,IAAIJ,KAAK,CAAC,EAAAI,gBAAA,GAAAP,KAAK,CAACH,QAAQ,cAAAU,gBAAA,uBAAdA,gBAAA,CAAgBR,IAAI,KAAI,oBAAoB,CAAC;IAC/D,CAAC,MAAM;MACL,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;IACjD;EACF;AACF,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,MAAOC,IAAU,IAAK;EAC9C,IAAI;IACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAE7B,MAAMZ,QAAQ,GAAG,MAAMb,SAAS,CAACsB,IAAI,CAAC,aAAa,EAAEI,QAAQ,EAAE;MAC7DvB,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IACF,OAAOU,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIrB,KAAK,CAACsB,YAAY,CAACD,KAAK,CAAC,EAAE;MAAA,IAAAa,gBAAA;MAC7B,MAAM,IAAIV,KAAK,CAAC,EAAAU,gBAAA,GAAAb,KAAK,CAACH,QAAQ,cAAAgB,gBAAA,uBAAdA,gBAAA,CAAgBd,IAAI,KAAI,sBAAsB,CAAC;IACjE,CAAC,MAAM;MACL,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;IACjD;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}